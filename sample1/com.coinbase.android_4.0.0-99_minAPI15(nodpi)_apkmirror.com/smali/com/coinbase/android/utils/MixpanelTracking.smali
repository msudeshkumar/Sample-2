.class public Lcom/coinbase/android/utils/MixpanelTracking;
.super Ljava/lang/Object;
.source "MixpanelTracking.java"


# static fields
.field public static final EVENT_ACCEPT_TOS:Ljava/lang/String; = "Event - Accept Terms of Service"

.field public static final EVENT_ADD_BANK_ACCOUNT_FROM_DW:Ljava/lang/String; = "Event - Add bank account from dw"

.field public static final EVENT_ADD_BANK_ACCOUNT_FROM_PURCHASE:Ljava/lang/String; = "Event - Add bank account from purchase"

.field public static final EVENT_ADD_BANK_ACCOUNT_FROM_SETTINGS:Ljava/lang/String; = "Event - Add bank account from settings"

.field public static final EVENT_ADD_BANK_ACCOUNT_FROM_TRANSACTIONS:Ljava/lang/String; = "Event - Add bank account from transactions"

.field public static final EVENT_ADD_DEBIT_CARD_FROM_SETTINGS:Ljava/lang/String; = "Event - Add debit card from settings"

.field public static final EVENT_ADD_NEW_ACCOUNT_INITIATED:Ljava/lang/String; = "Event - Add new account initiated"

.field public static final EVENT_ADD_PAYMENT_METHOD_FROM_TRANSACTIONS:Ljava/lang/String; = "Event - Add payment method from transactions"

.field public static final EVENT_ADD_SEPA_BANK_ACCOUNT_SCREEN:Ljava/lang/String; = "Event - Add sepa bank account screen"

.field public static final EVENT_AMOUNT_ENTERED:Ljava/lang/String; = "Event - Amount entered"

.field public static final EVENT_APP_INVITE_COMPLETED:Ljava/lang/String; = "Event - App invite completed"

.field public static final EVENT_APP_INVITE_FAILED:Ljava/lang/String; = "Event - App invite failed"

.field public static final EVENT_APP_INVITE_INITIATED:Ljava/lang/String; = "Event - App invite initiated"

.field public static final EVENT_APP_OPEN:Ljava/lang/String; = "Event - app open"

.field public static final EVENT_BANK_ACCOUNT_FIRST_PURCHASE_NO_THANKS:Ljava/lang/String; = "Event - Bank account first purchase no thanks"

.field public static final EVENT_BANK_ACCOUNT_FIRST_PURCHASE_SCREEN_SHOWN:Ljava/lang/String; = "Event - Bank account first purchase screen shown"

.field public static final EVENT_BANK_ACCOUNT_IS_NOT_ON_THE_LIST:Ljava/lang/String; = "Event - Bank account is not on the list"

.field public static final EVENT_BANK_ACCOUNT_SELECTED:Ljava/lang/String; = "Event - Bank account selected"

.field public static final EVENT_BUY_BUTTON_CLICK:Ljava/lang/String; = "Event - Buy"

.field public static final EVENT_BUY_CONFIRMATION_CLICK:Ljava/lang/String; = "Event - Confirm buy"

.field public static final EVENT_BUY_SIDEBAR_CLICK:Ljava/lang/String; = "Event - Navigation drawer buy"

.field public static final EVENT_CONFIRM_SEND:Ljava/lang/String; = "Event - Confirm Send"

.field public static final EVENT_CREATE_ACCOUNT_BUTTON_CLICK:Ljava/lang/String; = "Event - Sign up page button click"

.field public static final EVENT_DEPOSIT_ICON_CLICK:Ljava/lang/String; = "Event - deposit icon"

.field public static final EVENT_DEPOSIT_INITIATED:Ljava/lang/String; = "Event - Deposit initiated"

.field public static final EVENT_DEPOSIT_SUCCESSFUL:Ljava/lang/String; = "Event - Deposit Successful"

.field public static final EVENT_DEVICE_VERIFIED:Ljava/lang/String; = "Event - Device verified"

.field public static final EVENT_DW_INITIATED:Ljava/lang/String; = "Event - DW initiated"

.field public static final EVENT_EDIT_PHONE_NUMBER:Ljava/lang/String; = "Event - Edit phone number"

.field public static final EVENT_EMAIL_VERIFICATION:Ljava/lang/String; = "Event - Email verified"

.field public static final EVENT_IDENTITY_VERIFICATION_FROM_PURCHASE:Ljava/lang/String; = "Event - Identity verification from purchase"

.field public static final EVENT_IDENTITY_VERIFICATION_FROM_SETTINGS:Ljava/lang/String; = "Event - Identity verification from settings"

.field public static final EVENT_IDENTITY_VERIFICATION_FROM_TRANSACTIONS:Ljava/lang/String; = "Event - Identity verification from transactions"

.field public static final EVENT_INSTALL_REFERRER:Ljava/lang/String; = "Event - Install Source"

.field public static final EVENT_LAUNCHER_PAGE_SHOWN:Ljava/lang/String; = "Event - Get started"

.field public static final EVENT_LOG_IN_BUTTON_CLICK:Ljava/lang/String; = "Event - Sign-in page button click"

.field public static final EVENT_MANAGE_ACCOUNTS:Ljava/lang/String; = "Event - Manage accounts"

.field public static final EVENT_MANAGE_PHONE_NUMBERS_SETTINGS:Ljava/lang/String; = "Event - Manage phone numbers settings"

.field public static final EVENT_MY_ADDRESS:Ljava/lang/String; = "Event - My address"

.field public static final EVENT_M_CDV_INITIATED:Ljava/lang/String; = "Event - M cdv initiated"

.field public static final EVENT_M_CDV_SCREEN:Ljava/lang/String; = "Event - M cdv screen"

.field public static final EVENT_M_CDV_SHOWN_ON_TRANSACTION_LIST:Ljava/lang/String; = "Event - M cdv shown on transaction list"

.field public static final EVENT_M_ENTER_CREDENTIALS_SCREEN:Ljava/lang/String; = "Event - M enter credentials screen"

.field public static final EVENT_M_ENTER_NAME_SCREEN:Ljava/lang/String; = "Event - M enter name screen"

.field public static final EVENT_M_IAV_LOGIN_SCREEN:Ljava/lang/String; = "Event - M iav login screen"

.field public static final EVENT_M_IAV_MFA_REQUESTED:Ljava/lang/String; = "Event - M iav mfa requested"

.field public static final EVENT_M_SUCCESSFUL:Ljava/lang/String; = "Event - M successful"

.field public static final EVENT_M_VERIFICATION_OPTION_SCREEN:Ljava/lang/String; = "Event - M verification option screen"

.field public static final EVENT_NEW_ACCOUNT_CREATED:Ljava/lang/String; = "Event - New account created"

.field public static final EVENT_PAYMENT_CARD_SETUP:Ljava/lang/String; = "Event - Payment card setup"

.field public static final EVENT_PAYMENT_METHODS_FROM_NAVIGATION_BAR:Ljava/lang/String; = "Event - Payment methods from navigation bar"

.field public static final EVENT_PAYMENT_METHODS_FROM_SETTINGS:Ljava/lang/String; = "Event - Payment methods from settings"

.field public static final EVENT_PHONE_NUMBER_CODE_ENTERED:Ljava/lang/String; = "Event - Phone number code entered"

.field public static final EVENT_PHONE_NUMBER_VERIFIED_AUTOMATICALLY:Ljava/lang/String; = "Event - Phone number verified automatically"

.field public static final EVENT_PHONE_NUMBER_VERIFIED_MANUALLY:Ljava/lang/String; = "Event - Phone number verified manually"

.field public static final EVENT_PHONE_VERIFICATION_BUTTON_CLICKED:Ljava/lang/String; = "Event - Phone verification button clicked"

.field public static final EVENT_PIN_DISABLED:Ljava/lang/String; = "Event - Pin disabled"

.field public static final EVENT_PIN_ENABLED:Ljava/lang/String; = "Event - Pin enabled"

.field public static final EVENT_PRICE_ALERT_CREATED:Ljava/lang/String; = "Event - Price alert created"

.field public static final EVENT_PRICE_ALERT_DELETED:Ljava/lang/String; = "Event - Price alert deleted"

.field public static final EVENT_PROCESS_PAYMENT_CARD:Ljava/lang/String; = "Event - Process payment card"

.field public static final EVENT_P_CREDENTIALS_SCREEN:Ljava/lang/String; = "Event - P credentials screen"

.field public static final EVENT_P_MFA_REQUESTED:Ljava/lang/String; = "Event - P mfa requested"

.field public static final EVENT_P_PIN_SCREEN:Ljava/lang/String; = "Event - P pin screen"

.field public static final EVENT_P_SUCCESSFUL:Ljava/lang/String; = "Event - P successful"

.field public static final EVENT_REJECT_TOS:Ljava/lang/String; = "Event - Reject Terms of Service"

.field public static final EVENT_REQUEST_ICON_CLICK:Ljava/lang/String; = "Event - request icon"

.field public static final EVENT_REQUEST_REQUESTED:Ljava/lang/String; = "Event - Request requested"

.field public static final EVENT_SCAN_QR:Ljava/lang/String; = "Event - Scan QR"

.field public static final EVENT_SELL_BUTTON_CLICK:Ljava/lang/String; = "Event - Sell"

.field public static final EVENT_SELL_CONFIRMATION_CLICK:Ljava/lang/String; = "Event - Confirm sell"

.field public static final EVENT_SELL_SIDEBAR_CLICK:Ljava/lang/String; = "Event - Navigation drawer sell"

.field public static final EVENT_SEND_ICON_CLICK:Ljava/lang/String; = "Event - send icon"

.field public static final EVENT_SEND_REQUESTED:Ljava/lang/String; = "Event - Sent requested"

.field public static final EVENT_SEND_REQUESTED_TYPE_CRYPTO:Ljava/lang/String; = "Property: Type: crypto"

.field public static final EVENT_SEND_REQUESTED_TYPE_FIAT:Ljava/lang/String; = "Property: Type: fiat"

.field public static final EVENT_SEND_REQUEST_INITIATED:Ljava/lang/String; = "Event - Send request initiated"

.field public static final EVENT_SEND_WITHOUT_CONFIRM:Ljava/lang/String; = "Event - Send without confirm"

.field public static final EVENT_SHARE:Ljava/lang/String; = "Event - Share Coinbase"

.field public static final EVENT_SIGN_IN_BUTTON_CLICK:Ljava/lang/String; = "Event - Sign-in button click"

.field public static final EVENT_SIGN_OUT:Ljava/lang/String; = "Event - Sign out"

.field public static final EVENT_SIGN_UP_BUTTON_CLICK:Ljava/lang/String; = "Event - Sign up button click"

.field public static final EVENT_SUCCESSFUL_TRANSFER:Ljava/lang/String; = "Event - Successful transfer"

.field public static final EVENT_TRANSACTION_PAGE_SHOWN:Ljava/lang/String; = "Event - Transactions dashboard shown"

.field public static final EVENT_TRANSFER_BITCOIN:Ljava/lang/String; = "Event - Transfer Bitcoin"

.field public static final EVENT_TWO_STEP_VERIFICATION:Ljava/lang/String; = "Event - Two Step confirm click"

.field public static final EVENT_VERIFY_PAYMENT_CARD:Ljava/lang/String; = "Event - Verify payment card"

.field public static final EVENT_VERIFY_PHONE_FROM_DW:Ljava/lang/String; = "Event - Verify phone from dw"

.field public static final EVENT_VERIFY_PHONE_FROM_SETTINGS:Ljava/lang/String; = "Event - Verify phone from settings"

.field public static final EVENT_VERIFY_PHONE_FROM_TRANSACTIONS:Ljava/lang/String; = "Event - Verify phone from transactions"

.field public static final EVENT_VERIFY_PHONE_NUMBER_FROM_PURCHASE:Ljava/lang/String; = "Event - Verify phone number from purchase"

.field public static final EVENT_WITHDRAW_ICON_CLICK:Ljava/lang/String; = "Event - withdraw icon"

.field public static final EVENT_WITHDRAW_SELECTED:Ljava/lang/String; = "Event - Withdraw selected"

.field public static final EVENT_WITHDRAW_SUCCESSFUL:Ljava/lang/String; = "Event - Withdraw Successful"

.field private static final MIXPANEL_LOGTAG:Ljava/lang/String; = "Coinbase tracking"

.field private static final MIXPANEL_TOKEN:Ljava/lang/String; = "1b0a4bbfd833d99794cc4ed3de93f7fb"

.field public static final PROPERTY_BANK_NAME:Ljava/lang/String; = "Property: Bank Name: "

.field public static final PROPERTY_INSTALL_SOURCE:Ljava/lang/String; = "Property - Source"

.field public static final PROPERTY_MFA_TYPE:Ljava/lang/String; = "Property: MFA type: "

.field private static mixpanel:Lcom/mixpanel/android/mpmetrics/MixpanelAPI;

.field private static volatile sInstance:Lcom/coinbase/android/utils/MixpanelTracking;


# direct methods
.method static constructor <clinit>()V
    .locals 1

    .prologue
    .line 136
    const/4 v0, 0x0

    sput-object v0, Lcom/coinbase/android/utils/MixpanelTracking;->sInstance:Lcom/coinbase/android/utils/MixpanelTracking;

    return-void
.end method

.method private constructor <init>()V
    .locals 0

    .prologue
    .line 142
    invoke-direct {p0}, Ljava/lang/Object;-><init>()V

    .line 144
    return-void
.end method

.method public static getInstance()Lcom/coinbase/android/utils/MixpanelTracking;
    .locals 2

    .prologue
    .line 147
    sget-object v0, Lcom/coinbase/android/utils/MixpanelTracking;->sInstance:Lcom/coinbase/android/utils/MixpanelTracking;

    if-nez v0, :cond_1

    .line 148
    const-class v1, Lcom/coinbase/android/utils/MixpanelTracking;

    monitor-enter v1

    .line 149
    :try_start_0
    sget-object v0, Lcom/coinbase/android/utils/MixpanelTracking;->sInstance:Lcom/coinbase/android/utils/MixpanelTracking;

    if-nez v0, :cond_0

    .line 150
    new-instance v0, Lcom/coinbase/android/utils/MixpanelTracking;

    invoke-direct {v0}, Lcom/coinbase/android/utils/MixpanelTracking;-><init>()V

    sput-object v0, Lcom/coinbase/android/utils/MixpanelTracking;->sInstance:Lcom/coinbase/android/utils/MixpanelTracking;

    .line 152
    :cond_0
    monitor-exit v1
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 154
    :cond_1
    sget-object v0, Lcom/coinbase/android/utils/MixpanelTracking;->sInstance:Lcom/coinbase/android/utils/MixpanelTracking;

    return-object v0

    .line 152
    :catchall_0
    move-exception v0

    :try_start_1
    monitor-exit v1
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    throw v0
.end method

.method public static logTransactionEvent(Lcom/coinbase/android/quickstart/QuickstartItem;)V
    .locals 3
    .param p0, "item"    # Lcom/coinbase/android/quickstart/QuickstartItem;

    .prologue
    const/4 v2, 0x0

    .line 192
    sget-object v0, Lcom/coinbase/android/utils/MixpanelTracking$1;->$SwitchMap$com$coinbase$android$quickstart$QuickstartItem:[I

    invoke-virtual {p0}, Lcom/coinbase/android/quickstart/QuickstartItem;->ordinal()I

    move-result v1

    aget v0, v0, v1

    packed-switch v0, :pswitch_data_0

    .line 206
    :goto_0
    return-void

    .line 194
    :pswitch_0
    invoke-static {}, Lcom/coinbase/android/utils/MixpanelTracking;->getInstance()Lcom/coinbase/android/utils/MixpanelTracking;

    move-result-object v0

    const-string v1, "Event - Add payment method from transactions"

    new-array v2, v2, [Ljava/lang/String;

    invoke-virtual {v0, v1, v2}, Lcom/coinbase/android/utils/MixpanelTracking;->trackEvent(Ljava/lang/String;[Ljava/lang/String;)V

    goto :goto_0

    .line 197
    :pswitch_1
    invoke-static {}, Lcom/coinbase/android/utils/MixpanelTracking;->getInstance()Lcom/coinbase/android/utils/MixpanelTracking;

    move-result-object v0

    const-string v1, "Event - Add bank account from transactions"

    new-array v2, v2, [Ljava/lang/String;

    invoke-virtual {v0, v1, v2}, Lcom/coinbase/android/utils/MixpanelTracking;->trackEvent(Ljava/lang/String;[Ljava/lang/String;)V

    goto :goto_0

    .line 200
    :pswitch_2
    invoke-static {}, Lcom/coinbase/android/utils/MixpanelTracking;->getInstance()Lcom/coinbase/android/utils/MixpanelTracking;

    move-result-object v0

    const-string v1, "Event - Verify phone from transactions"

    new-array v2, v2, [Ljava/lang/String;

    invoke-virtual {v0, v1, v2}, Lcom/coinbase/android/utils/MixpanelTracking;->trackEvent(Ljava/lang/String;[Ljava/lang/String;)V

    goto :goto_0

    .line 203
    :pswitch_3
    invoke-static {}, Lcom/coinbase/android/utils/MixpanelTracking;->getInstance()Lcom/coinbase/android/utils/MixpanelTracking;

    move-result-object v0

    const-string v1, "Event - Identity verification from transactions"

    new-array v2, v2, [Ljava/lang/String;

    invoke-virtual {v0, v1, v2}, Lcom/coinbase/android/utils/MixpanelTracking;->trackEvent(Ljava/lang/String;[Ljava/lang/String;)V

    goto :goto_0

    .line 192
    nop

    :pswitch_data_0
    .packed-switch 0x1
        :pswitch_0
        :pswitch_1
        :pswitch_2
        :pswitch_3
    .end packed-switch
.end method


# virtual methods
.method public initializeMixpanel(Landroid/content/Context;)V
    .locals 1
    .param p1, "context"    # Landroid/content/Context;

    .prologue
    .line 159
    const-string v0, "1b0a4bbfd833d99794cc4ed3de93f7fb"

    invoke-static {p1, v0}, Lcom/mixpanel/android/mpmetrics/MixpanelAPI;->getInstance(Landroid/content/Context;Ljava/lang/String;)Lcom/mixpanel/android/mpmetrics/MixpanelAPI;

    move-result-object v0

    sput-object v0, Lcom/coinbase/android/utils/MixpanelTracking;->mixpanel:Lcom/mixpanel/android/mpmetrics/MixpanelAPI;

    .line 160
    return-void
.end method

.method public varargs trackEvent(Ljava/lang/String;[Ljava/lang/String;)V
    .locals 5
    .param p1, "events"    # Ljava/lang/String;
    .param p2, "properties"    # [Ljava/lang/String;

    .prologue
    .line 164
    new-instance v2, Lorg/json/JSONObject;

    invoke-direct {v2}, Lorg/json/JSONObject;-><init>()V

    .line 166
    .local v2, "prop":Lorg/json/JSONObject;
    invoke-virtual {p1}, Ljava/lang/String;->isEmpty()Z

    move-result v3

    if-eqz v3, :cond_0

    .line 167
    const-string v3, "Coinbase tracking"

    const-string v4, "Empty Event"

    invoke-static {v3, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    .line 189
    :goto_0
    return-void

    .line 171
    :cond_0
    if-eqz p2, :cond_2

    .line 173
    array-length v3, p2

    rem-int/lit8 v3, v3, 0x2

    if-nez v3, :cond_1

    .line 174
    const/4 v1, 0x0

    .local v1, "i":I
    :goto_1
    array-length v3, p2

    if-ge v1, v3, :cond_2

    .line 176
    :try_start_0
    aget-object v3, p2, v1

    add-int/lit8 v1, v1, 0x1

    aget-object v4, p2, v1

    invoke-virtual {v2, v3, v4}, Lorg/json/JSONObject;->put(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    :try_end_0
    .catch Lorg/json/JSONException; {:try_start_0 .. :try_end_0} :catch_0

    .line 174
    add-int/lit8 v1, v1, 0x1

    goto :goto_1

    .line 177
    :catch_0
    move-exception v0

    .line 178
    .local v0, "e":Lorg/json/JSONException;
    new-instance v3, Ljava/lang/RuntimeException;

    const-string v4, "Error in tracking an event"

    invoke-direct {v3, v4}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V

    throw v3

    .line 182
    .end local v0    # "e":Lorg/json/JSONException;
    .end local v1    # "i":I
    :cond_1
    const-string v3, "Coinbase tracking"

    const-string v4, "Properties missing values"

    invoke-static {v3, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_0

    .line 187
    :cond_2
    sget-object v3, Lcom/coinbase/android/utils/MixpanelTracking;->mixpanel:Lcom/mixpanel/android/mpmetrics/MixpanelAPI;

    invoke-virtual {v3, p1, v2}, Lcom/mixpanel/android/mpmetrics/MixpanelAPI;->track(Ljava/lang/String;Lorg/json/JSONObject;)V

    .line 188
    sget-object v3, Lcom/coinbase/android/utils/MixpanelTracking;->mixpanel:Lcom/mixpanel/android/mpmetrics/MixpanelAPI;

    invoke-virtual {v3}, Lcom/mixpanel/android/mpmetrics/MixpanelAPI;->flush()V

    goto :goto_0
.end method
